#!/usr/bin/env fish

source (dirname (status -f))/enforce.fish

function git-init --argument-names language
    enforce -n "$language" "Usage: git-init LANGUAGE"
    git init
    if not test -f .gitignore
      wget --quiet -O .gitignore https://raw.githubusercontent.com/github/gitignore/master/{$language}.gitignore
    end
    if not test -f .editorconfig
      echo > .editorconfig "\
# EditorConfig file: http://EditorConfig.org
root = true

[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
indent_style = space
indent_size = 4
trim_trailing_whitespace = true
max_line_length = 100"
    end
end

git-init $argv
